<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Multi-step Login Form</title>
    <link rel="stylesheet" href="../style.css" />
</head>
<body>
    <p><a href="../index.html#autofill">[Home]</a></p>

    <div class="dialog">
        <h2>Multi-step Login Form</h2>
        <p>Enter your email first, then password on the next step</p>
        
        <form id="login-form" action="/login">
            <div id="login-step-1">
                <fieldset>
                    <label for="login-email">Email</label>
                    <input id="login-email" type="email" autocomplete="username" required>
                    <button type="button" onclick="showStep2()">Next</button>
                </fieldset>
            </div>
            <div id="login-step-2" hidden>
                <fieldset>
                    <label for="login-password">Password</label>
                    <input id="login-password" type="password" autocomplete="current-password" required>
                    <button type="submit">Log in</button>
                </fieldset>
            </div>
        </form>
    </div>

    <script>
        function showStep2() {
            if (document.getElementById('login-email').checkValidity()) {
                document.getElementById('login-step-1').remove();
                document.getElementById('login-step-2').hidden = false;
            }
        }

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            if (e.target.checkValidity()) {
                e.target.innerHTML = '<h3>Successfully logged in!</h3>';
            }
        });
    </script>
</body>
</html> 
