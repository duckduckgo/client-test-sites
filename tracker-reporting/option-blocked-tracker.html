<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Option blocked request loaded via fetch</title>

  <script src="./utils.js"></script>
  <script>
// eslint-disable-next-line no-unused-vars
function init () {
    callAfterDelay(loadTracker);
}

function loadTracker () {
    const targetElement = document.getElementById('target-div');
    fetch('https://www.publisher-company.site/shared/utils.mjs', { mode: 'no-cors' })
        .then(resp => {
            targetElement.innerText = 'Tracker loaded';
        })
        // eslint-disable-next-line node/handle-callback-err
        .catch(err => {
            targetElement.innerText = 'Tracker not loaded';
        });
}
  </script>

</head>
<body onload="init()">
<p><a href="../index.html">[Home]</a></p>

<p>Option blocked request loaded via fetch</p>
<p>request will load on good.third-party.site, but not on bad.third-party.site</p>

<div id="target-div">
</div>

</body>
</html>
