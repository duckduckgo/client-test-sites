<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Tracker created via a document fragment</title>

  <script src="./utils.js"></script>
  <script>
// eslint-disable-next-line no-unused-vars
function init () {
    callAfterDelay(loadTracker);
}

function loadTracker () {
    const targetElement = document.getElementById('target-div');

    const markup = "<img src='//facebook.com/tr?test=1'>";

    const fragment = document.createDocumentFragment();
    const div = document.createElement('div');
    div.innerHTML = markup;
    while (div.firstChild) {
        fragment.appendChild(div.firstChild);
    }
    targetElement.appendChild(fragment);
}
  </script>

</head>
<body onload="init()">
<p><a href="../index.html">[Home]</a></p>

<p>Tracker created via a document fragment</p>

<div id="target-div">
</div>

</body>
</html>
